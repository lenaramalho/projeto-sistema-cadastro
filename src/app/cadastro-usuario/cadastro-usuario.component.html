<div class="container">
  <div class="form-box">
    <img src="https://modalgr.io/wp-content/uploads/2024/10/cropped-logotipo-1.png">
    <h2>Cadastro de Usuário</h2>
    <form [formGroup]="cadastroForm" (ngSubmit)="onSubmit()">
      <div class="input-group">
        <label for="nome">Nome</label>
        <input id="nome" formControlName="nome" placeholder="Digite seu nome" />
        <div *ngIf="cadastroForm.get('nome')?.invalid && cadastroForm.get('nome')?.touched" class="error">
          <small>Nome é obrigatório.</small>
        </div>
      </div>

      <div class="input-group">
        <label for="email">E-mail</label>
        <input id="email" formControlName="email" placeholder="Digite seu e-mail" />
        <div *ngIf="cadastroForm.get('email')?.invalid && cadastroForm.get('email')?.touched" class="error">
          <small>E-mail inválido ou obrigatório.</small>
        </div>
      </div>

      <div class="input-group">
        <label for="dataNascimento">Data de Nascimento</label>
        <input type="text" formControlName="dataNascimento" (input)="formatarData($event)" placeholder="dd/mm/aaaa">
        <div *ngIf="cadastroForm.get('dataNascimento')?.invalid && cadastroForm.get('dataNascimento')?.touched" class="error">
          <small>Data de nascimento inválida.</small>
        </div>
      </div>

      <div class="input-group">
        <label for="cpf">CPF</label>
        <input id="cpf" formControlName="cpf" (input)="formatarCpf($event)" maxlength="14" placeholder="000.000.000-00" />
        <div *ngIf="cadastroForm.get('cpf')?.invalid && cadastroForm.get('cpf')?.touched" class="error">
          <small>CPF inválido.</small>
        </div>
      </div>

      <div class="input-group">
        <label for="cep">CEP</label>
        <input id="cep" formControlName="cep" (input)="formatarCep($event)" maxlength="9" placeholder="00000-000" />
        <div *ngIf="cadastroForm.get('cep')?.invalid && cadastroForm.get('cep')?.touched" class="error">
          <small>CEP inválido.</small>
        </div>
      </div>

      <div class="input-group">
        <label for="logradouro">Logradouro</label>
        <input id="logradouro" formControlName="logradouro" placeholder="Digite o logradouro" />
      </div>

      <div class="input-group">
        <label for="bairro">Bairro</label>
        <input id="bairro" formControlName="bairro" placeholder="Digite o bairro" />
      </div>

      <div class="input-group">
        <label for="cidade">Cidade</label>
        <input id="cidade" formControlName="cidade" placeholder="Digite a cidade" />
      </div>

      <div class="input-group">
        <label for="estado">Estado</label>
        <input id="estado" formControlName="estado" placeholder="Digite o estado" />
      </div>

      <button type="submit" [disabled]="!cadastroForm.valid">Cadastrar</button>
    </form>
  </div>

  <div *ngIf="usuarios.length > 0">
    <div class="table-box">
      <h3>Usuários Cadastrados</h3>
      <table>
        <thead>
          <tr>
            <th>Nome</th>
            <th>E-mail</th>
            <th>Idade</th>
            <th>CPF</th>
            <th>CEP</th>
            <th>Logradouro</th>
            <th>Bairro</th>
            <th>Cidade</th>
            <th>Estado</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let usuario of usuarios">
            <td data-label="Nome">{{ usuario.nome }}</td>
            <td data-label="E-mail">{{ usuario.email }}</td>
            <td data-label="Idade">{{ usuario.idade }}</td>
            <td data-label="CPF">{{ usuario.cpf }}</td>
            <td data-label="CEP">{{ usuario.cep }}</td>
            <td data-label="Logradouro">{{ usuario.logradouro }}</td>
            <td data-label="Bairro">{{ usuario.bairro }}</td>
            <td data-label="Cidade">{{ usuario.cidade }}</td>
            <td data-label="Estado">{{ usuario.estado }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>